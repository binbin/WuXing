const origin_sizhdizhi = [
  ["子", "癸", "水", 1, 1, 1.04, 1.06, 1, 1, 1.2, 1.2, 1.06, 1.14, 1.2, 1.1],
  [
    "丑",
    "癸",
    "水",
    0.3,
    0.3,
    0.312,
    0.318,
    0.3,
    0.3,
    0.36,
    0.36,
    0.318,
    0.342,
    0.36,
    0.33,
  ],
  [
    "丑",
    "辛",
    "金",
    0.2,
    0.2,
    0.23,
    0.212,
    0.2,
    0.22,
    0.228,
    0.248,
    0.232,
    0.2,
    0.2,
    0.228,
  ],
  [
    "丑",
    "己",
    "土",
    0.53,
    0.5,
    0.55,
    0.57,
    0.6,
    0.58,
    0.5,
    0.5,
    0.57,
    0.5,
    0.5,
    0.55,
  ],
  [
    "寅",
    "丙",
    "火",
    0.36,
    0.36,
    0.318,
    0.342,
    0.36,
    0.33,
    0.3,
    0.3,
    0.342,
    0.318,
    0.3,
    0.3,
  ],
  [
    "寅",
    "甲",
    "木",
    0.798,
    0.84,
    0.77,
    0.7,
    0.7,
    0.728,
    0.742,
    0.7,
    0.7,
    0.84,
    0.84,
    0.742,
  ],
  ["卯", "乙", "木", 1.14, 1.2, 1.1, 1, 1, 1.04, 1.06, 1, 1, 1.2, 1.2, 1.06],
  [
    "辰",
    "乙",
    "木",
    0.342,
    0.36,
    0.33,
    0.3,
    0.3,
    0.312,
    0.318,
    0.3,
    0.3,
    0.36,
    0.36,
    0.318,
  ],
  [
    "辰",
    "癸",
    "水",
    0.2,
    0.2,
    0.208,
    0.2,
    0.2,
    0.2,
    0.24,
    0.24,
    0.212,
    0.228,
    0.24,
    0.22,
  ],
  [
    "辰",
    "戊",
    "土",
    0.53,
    0.5,
    0.55,
    0.6,
    0.6,
    0.58,
    0.5,
    0.5,
    0.57,
    0.5,
    0.5,
    0.55,
  ],
  [
    "巳",
    "庚",
    "金",
    0.3,
    0.3,
    0.33,
    0.3,
    0.3,
    0.33,
    0.342,
    0.36,
    0.348,
    0.3,
    0.3,
    0.342,
  ],
  [
    "巳",
    "丙",
    "火",
    0.84,
    0.84,
    0.742,
    0.84,
    0.84,
    0.798,
    0.7,
    0.7,
    0.728,
    0.742,
    0.7,
    0.7,
  ],
  ["午", "丁", "火", 1.2, 1.2, 1.06, 1.14, 1.2, 1.1, 1, 1, 1.04, 1.06, 1, 1],
  [
    "未",
    "丁",
    "火",
    0.36,
    0.36,
    0.318,
    0.342,
    0.36,
    0.33,
    0.3,
    0.3,
    0.312,
    0.318,
    0.3,
    0.3,
  ],
  [
    "未",
    "乙",
    "木",
    0.228,
    0.24,
    0.22,
    0.2,
    0.2,
    0.208,
    0.212,
    0.2,
    0.2,
    0.24,
    0.24,
    0.212,
  ],
  [
    "未",
    "己",
    "土",
    0.53,
    0.5,
    0.55,
    0.57,
    0.6,
    0.58,
    0.5,
    0.5,
    0.57,
    0.5,
    0.5,
    0.55,
  ],
  [
    "申",
    "壬",
    "水",
    0.3,
    0.3,
    0.312,
    0.318,
    0.3,
    0.3,
    0.36,
    0.36,
    0.318,
    0.342,
    0.36,
    0.33,
  ],
  [
    "申",
    "庚",
    "金",
    0.7,
    0.7,
    0.77,
    0.742,
    0.7,
    0.77,
    0.798,
    0.84,
    0.812,
    0.7,
    0.7,
    0.798,
  ],
  ["酉", "辛", "金", 1, 1, 1.1, 1.06, 1, 1.1, 1.14, 1.2, 1.16, 1, 1, 1.14],
  [
    "戌",
    "辛",
    "金",
    0.3,
    0.3,
    0.33,
    0.318,
    0.3,
    0.33,
    0.342,
    0.36,
    0.348,
    0.3,
    0.3,
    0.342,
  ],
  [
    "戌",
    "丁",
    "火",
    0.24,
    0.24,
    0.212,
    0.228,
    0.24,
    0.22,
    0.2,
    0.2,
    0.208,
    0.212,
    0.2,
    0.2,
  ],
  [
    "戌",
    "戊",
    "土",
    0.53,
    0.5,
    0.55,
    0.57,
    0.6,
    0.58,
    5,
    0.5,
    0.57,
    0.5,
    0.5,
    0.55,
  ],
  [
    "亥",
    "甲",
    "木",
    0.342,
    0.36,
    0.33,
    0.3,
    0.3,
    0.312,
    0.318,
    0.3,
    0.3,
    0.36,
    0.36,
    0.318,
  ],
  [
    "亥",
    "壬",
    "水",
    0.7,
    0.7,
    0.728,
    0.742,
    0.7,
    0.7,
    0.84,
    0.84,
    0.724,
    0.798,
    0.84,
    0.77,
  ],
];
const sizhudizhi = {}

origin_sizhdizhi.forEach((n,i)=>{
    const rate = {};
    ["寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥", "子", "丑"].forEach((item,index)=>{
        rate[item]= n[index+3]
    })
    const obj = {
      cang: n[1],
      shu: n[2],
      rate: rate,
    };
    if (!sizhudizhi[n[0]]) {
      sizhudizhi[n[0]] = [obj];
    } else {
      sizhudizhi[n[0]].push(obj);
    }
})

 const origin_sizhutiangan = [
    ['甲', '木', 1.14, 1.2, 1.1, 1, 1, 1.04, 1.06, 1, 1, 1.2, 1.2, 1.06],
    ['乙', '木', 1.14, 1.2, 1.1, 1, 1, 1.04, 1.06, 1, 1, 1.2, 1.2, 1.06],
    ['丙', '火', 1.2, 1.2, 1.06, 1.14, 1.2, 1.1, 1, 1, 1.04, 1, 1, 1],
    ['丁', '火', 1.2, 1.2, 1.06, 1.14, 1.2, 1.1, 1, 1, 1.04, 1, 1, 1],
    ['戊', '土', 1.06, 1, 1.1, 1.14, 1.2, 1.16, 1, 1, 1.14, 1, 1, 1.1],
    ['己', '土', 1.06, 1, 1.1, 1.14, 1.2, 1.16, 1, 1, 1.14, 1, 1, 1.1],
    ['庚', '金', 1, 1, 1.1, 1.06, 1, 1.1, 1.14, 1.2, 1.16, 1, 1, 1.14],
    ['辛', '金', 1, 1, 1.1, 1.06, 1, 1.1, 1.14, 1.2, 1.16, 1, 1, 1.14],
    ['壬', '水', 1, 1, 1.04, 1.06, 1, 1, 1.2, 1.2, 1.06, 1.14, 1.2, 1.1],
    ['癸', '水', 1, 1, 1.04, 1.06, 1, 1, 1.2, 1.2, 1.06, 1.14, 1.2, 1.1]
]
const sizhutiangan = {};
origin_sizhutiangan.forEach((n,i)=>{
    const rate = {};
    ["寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥", "子", "丑"].forEach((item, index)=>{
        rate[item] = n[index + 2];
    })
    const obj = {
      shu: n[1],
      rate: rate,
    };
    if (!sizhutiangan[n[0]]) {
      sizhutiangan[n[0]] = [obj];
    } else {
      sizhutiangan[n[0]].push(obj);
    }
})

function Rate({ gzYear, gzMonth, gzDay, gzTime }) {
  const txts = [gzYear, gzMonth, gzDay, gzTime],
    mon = gzMonth.charAt(1);
  let result = {
    金: 0,
    木: 0,
    水: 0,
    火: 0,
    土: 0,
  };
  txts.forEach((txt, index) => {
    sizhutiangan[txt.charAt(0)].forEach((n, i) => {
      result[n["shu"]] += n["rate"][mon];
    });
    sizhudizhi[txt.charAt(1)].forEach((n, i) => {
      result[n["shu"]] += n["rate"][mon];
    });
  });
  return result;
}

// module.exports = Rate(["壬寅", "壬寅", "甲午", "甲戌"], "寅");
module.exports = Rate